{"ast":null,"code":"// board: array of 9 items: null | 'X' | 'O'\n// aiMark: 'O' (AI), playerMark: 'X'\nfunction findWinningMove(board, mark) {\n  const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n  for (const line of lines) {\n    const [a, b, c] = line;\n    const vals = [board[a], board[b], board[c]];\n    const marks = vals.filter(v => v === mark).length;\n    const empties = line.filter(i => !board[i]);\n    if (marks === 2 && empties.length === 1) return empties[0];\n  }\n  return -1;\n}\nexport function aiMove(board, aiMark = 'O', playerMark = 'X') {\n  // 1) win if possible\n  let move = findWinningMove(board, aiMark);\n  if (move !== -1) return move;\n\n  // 2) block opponent\n  move = findWinningMove(board, playerMark);\n  if (move !== -1) return move;\n\n  // 3) center\n  if (!board[4]) return 4;\n\n  // 4) corners\n  const corners = [0, 2, 6, 8].filter(i => !board[i]);\n  if (corners.length) return corners[Math.floor(Math.random() * corners.length)];\n\n  // 5) sides\n  const sides = [1, 3, 5, 7].filter(i => !board[i]);\n  if (sides.length) return sides[Math.floor(Math.random() * sides.length)];\n\n  // fallback - pick random empty\n  const empties = board.map((v, i) => v ? null : i).filter(v => v !== null);\n  if (empties.length === 0) return -1;\n  return empties[Math.floor(Math.random() * empties.length)];\n}","map":{"version":3,"names":["findWinningMove","board","mark","lines","line","a","b","c","vals","marks","filter","v","length","empties","i","aiMove","aiMark","playerMark","move","corners","Math","floor","random","sides","map"],"sources":["D:/PersonalProjects/refer-n-play-tictactoe/frontend/src/ai/heuristicAI.js"],"sourcesContent":["// board: array of 9 items: null | 'X' | 'O'\r\n// aiMark: 'O' (AI), playerMark: 'X'\r\nfunction findWinningMove(board, mark) {\r\n    const lines = [\r\n        [0, 1, 2],\r\n        [3, 4, 5],\r\n        [6, 7, 8],\r\n        [0, 3, 6],\r\n        [1, 4, 7],\r\n        [2, 5, 8],\r\n        [0, 4, 8],\r\n        [2, 4, 6]\r\n    ];\r\n    for (const line of lines) {\r\n        const [a, b, c] = line;\r\n        const vals = [board[a], board[b], board[c]];\r\n        const marks = vals.filter(v => v === mark).length;\r\n        const empties = line.filter(i => !board[i]);\r\n        if (marks === 2 && empties.length === 1) return empties[0];\r\n    }\r\n    return -1;\r\n}\r\n\r\nexport function aiMove(board, aiMark = 'O', playerMark = 'X') {\r\n    // 1) win if possible\r\n    let move = findWinningMove(board, aiMark);\r\n    if (move !== -1) return move;\r\n\r\n    // 2) block opponent\r\n    move = findWinningMove(board, playerMark);\r\n    if (move !== -1) return move;\r\n\r\n    // 3) center\r\n    if (!board[4]) return 4;\r\n\r\n    // 4) corners\r\n    const corners = [0, 2, 6, 8].filter(i => !board[i]);\r\n    if (corners.length) return corners[Math.floor(Math.random() * corners.length)];\r\n\r\n    // 5) sides\r\n    const sides = [1, 3, 5, 7].filter(i => !board[i]);\r\n    if (sides.length) return sides[Math.floor(Math.random() * sides.length)];\r\n\r\n    // fallback - pick random empty\r\n    const empties = board.map((v, i) => v ? null : i).filter(v => v !== null);\r\n    if (empties.length === 0) return -1;\r\n    return empties[Math.floor(Math.random() * empties.length)];\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}