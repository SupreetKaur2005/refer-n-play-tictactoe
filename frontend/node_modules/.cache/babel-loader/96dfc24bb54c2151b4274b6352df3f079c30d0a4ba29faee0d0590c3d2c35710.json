{"ast":null,"code":"// board: array of 9 items: null | 'X' | 'O'\n// aiMark: 'O' (AI), playerMark: 'X'\nfunction findWinningMove(board,mark){const lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const line of lines){const[a,b,c]=line;const vals=[board[a],board[b],board[c]];const marks=vals.filter(v=>v===mark).length;const empties=line.filter(i=>!board[i]);if(marks===2&&empties.length===1)return empties[0];}return-1;}export function aiMove(board){let aiMark=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'O';let playerMark=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'X';// 1) win if possible\nlet move=findWinningMove(board,aiMark);if(move!==-1)return move;// 2) block opponent\nmove=findWinningMove(board,playerMark);if(move!==-1)return move;// 3) center\nif(!board[4])return 4;// 4) corners\nconst corners=[0,2,6,8].filter(i=>!board[i]);if(corners.length)return corners[Math.floor(Math.random()*corners.length)];// 5) sides\nconst sides=[1,3,5,7].filter(i=>!board[i]);if(sides.length)return sides[Math.floor(Math.random()*sides.length)];// fallback - pick random empty\nconst empties=board.map((v,i)=>v?null:i).filter(v=>v!==null);if(empties.length===0)return-1;return empties[Math.floor(Math.random()*empties.length)];}","map":{"version":3,"names":["findWinningMove","board","mark","lines","line","a","b","c","vals","marks","filter","v","length","empties","i","aiMove","aiMark","arguments","undefined","playerMark","move","corners","Math","floor","random","sides","map"],"sources":["D:/PersonalProjects/refer-n-play-tictactoe/frontend/src/ai/heuristicAI.js"],"sourcesContent":["// board: array of 9 items: null | 'X' | 'O'\r\n// aiMark: 'O' (AI), playerMark: 'X'\r\nfunction findWinningMove(board, mark) {\r\n    const lines = [\r\n        [0, 1, 2],\r\n        [3, 4, 5],\r\n        [6, 7, 8],\r\n        [0, 3, 6],\r\n        [1, 4, 7],\r\n        [2, 5, 8],\r\n        [0, 4, 8],\r\n        [2, 4, 6]\r\n    ];\r\n    for (const line of lines) {\r\n        const [a, b, c] = line;\r\n        const vals = [board[a], board[b], board[c]];\r\n        const marks = vals.filter(v => v === mark).length;\r\n        const empties = line.filter(i => !board[i]);\r\n        if (marks === 2 && empties.length === 1) return empties[0];\r\n    }\r\n    return -1;\r\n}\r\n\r\nexport function aiMove(board, aiMark = 'O', playerMark = 'X') {\r\n    // 1) win if possible\r\n    let move = findWinningMove(board, aiMark);\r\n    if (move !== -1) return move;\r\n\r\n    // 2) block opponent\r\n    move = findWinningMove(board, playerMark);\r\n    if (move !== -1) return move;\r\n\r\n    // 3) center\r\n    if (!board[4]) return 4;\r\n\r\n    // 4) corners\r\n    const corners = [0, 2, 6, 8].filter(i => !board[i]);\r\n    if (corners.length) return corners[Math.floor(Math.random() * corners.length)];\r\n\r\n    // 5) sides\r\n    const sides = [1, 3, 5, 7].filter(i => !board[i]);\r\n    if (sides.length) return sides[Math.floor(Math.random() * sides.length)];\r\n\r\n    // fallback - pick random empty\r\n    const empties = board.map((v, i) => v ? null : i).filter(v => v !== null);\r\n    if (empties.length === 0) return -1;\r\n    return empties[Math.floor(Math.random() * empties.length)];\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}